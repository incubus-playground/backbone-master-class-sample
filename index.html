<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Backbone Master Class</title>

    <script src="/bower_components/jquery/dist/jquery.js"></script>
    <script src="/bower_components/underscore/underscore.js"></script>
    <script src="/bower_components/backbone/backbone.js"></script>
    <script src="/bower_components/backbone-validation/dist/backbone-validation.js"></script>

    <style>
        .bookTable {
            border-collapse: collapse;
        }

        .bookTable td,
        .bookTable th
        {
            padding: 10px;
            border: 1px solid #000000;
            border-spacing: 0;
            width: 200px;
        }

        p.error input {
            background-color: red;
        }

        .errorMessage {
            color: red;
        }
    </style>
    
    <script type="text/template" id="book-collection-template">
        <h1>Books</h1>
        <table class="bookTable">
            <thead>
                <th>ISBN</th>
                <th>Title</th>
                <th>Author</th>
                <th colspan="2"></th>
            </thead>
            <tbody>
            </tbody>
        </table>
        <p></p>
        <button class="addNewBook">Add New Book</button>
    </script>

    <script type="text/template" id="book-template">
        <td><%- isbn %></td>
        <td><%- title %></td>
        <td><%- author %></td>
        <td><button class="editBook">Edit Book</button></td>
        <td><button class="removeBook">Remove Book</button></td>
    </script>

    <script type="text/template" id="edit-book-template">
        <h1><% if (isNew) { %>
                Add new book
            <% } else { %>
                Edit book
            <% } %>
        </h1>
        <p>
            ISBN
            <input type="text" name="isbn" value="<%- isbn %>"/>
            <span class="errorMessage"></span>
        </p>
        <p>
            Title
            <input type="text" name="title" value="<%- title %>"/>
            <span class="errorMessage"></span>
        </p>
        <p>
            Author
            <input type="text" name="author" value="<%- author %>"/>
            <span class="errorMessage"></span>
        </p>
        <p></p>
        <button class="saveBook">Save Book</button>
    </script>

    <script src="/src/model/BookModel.js"></script>
    <script src="/src/collection/BookCollection.js"></script>
    <script src="/src/view/BookListItemView.js"></script>
    <script src="/src/view/BookListView.js"></script>
    <script src="/src/view/EditBookView.js"></script>
    <script src="/src/BookApp.js"></script>

    <script>
        $(document).ready(function() {
            window.app = new BookApp();
            Backbone.history.start({ pushState: true });
        });
    </script>
</head>
<body>

</body>
</html>